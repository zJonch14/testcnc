name: Tmate Session SSH (Usando mxschmitt)

# Se dispara ÚNICAMENTE de forma manual.
on:
  workflow_dispatch:

# Opcional: Asegura que solo se ejecute una sesión a la vez.
concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

jobs:
  tmate_connection:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout del código (Opcional)
        uses: actions/checkout@v4
        
      - name: Iniciar sesión Tmate y mostrar conexión SSH
        # ¡Usando la acción solicitada!
        uses: mxschmitt/action-tmate@v3 
        with:
          # Esta opción mantiene la sesión activa hasta que la cierres 
          # o el job alcance su tiempo máximo (6 horas).
          limit-access-to-actor: true 
          
      # El Job se detendrá aquí, esperando la conexión SSH.
