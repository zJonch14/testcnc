  - name: tmate sexo
    id: tmate_session
    run: |
      tmate &
      
      # Bucle para esperar la URL
      for i in $(seq 1 20); do  # Intenta 20 veces
        URL=$(tmate show-messages | grep "ssh" | head -n 1 | awk '{print $3}')
        if [ -n "$URL" ]; then
          echo "URL encontrada: $URL"
          echo "::set-output name=url::$URL"
          break
        else
          echo "Esperando la URL de tmate... Intento $i"
          sleep 2  # Espera 2 segundos entre intentos
        fi
      done

      if [ -z "$URL" ]; then
        echo "Error: No se pudo obtener la URL de tmate despu√©s de varios intentos."
        exit 1  # Fallar el paso si no se encuentra la URL
      fi
